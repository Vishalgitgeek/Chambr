{% extends 'core/base.html' %}

{% block content %}
<div class="container">
    <div class="row justify-content-center align-items-center min-vh-100">
        <div class="col-md-8 shadow-lg rounded p-5 bg-white d-flex">
            <!-- Left side - Form -->
            <div class="w-50">
                <h2 class="text-center mb-4" style="font-family: 'Segoe UI', sans-serif; color: #343a40;">Chambr</h2>

                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-danger">{{ message }}</div>
                    {% endfor %}
                {% endif %}

                <!-- Display form errors -->
                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}

                <form method="POST">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="{{ form.username.id_for_label }}" class="form-label">Username</label>
                        {{ form.username }}
                        {% if form.username.errors %}
                            <div class="text-danger">
                                {{ form.username.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.email.id_for_label }}" class="form-label">Email address</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="text-danger">
                                {{ form.email.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.age.id_for_label }}" class="form-label">Age</label>
                        {{ form.age }}
                        {% if form.age.errors %}
                            <div class="text-danger">
                                {{ form.age.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.gender.id_for_label }}" class="form-label">Gender</label>
                        {{ form.gender }}
                        {% if form.gender.errors %}
                            <div class="text-danger">
                                {{ form.gender.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.password1.id_for_label }}" class="form-label">Password</label>
                        {{ form.password1 }}
                        {% if form.password1.errors %}
                            <div class="text-danger">
                                {{ form.password1.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.password2.id_for_label }}" class="form-label">Confirm Password</label>
                        {{ form.password2 }}
                        {% if form.password2.errors %}
                            <div class="text-danger">
                                {{ form.password2.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-dark">Register</button>
                    </div>
                </form>

                <p class="mt-3 text-center">Already have an account? <a href="{% url 'login' %}">Login here</a></p>
            </div>

            <!-- Right side - Image -->
            <div class="w-50 d-none d-md-block ps-4">
                <img src="HelloYou - Login Page.jpg" alt="Signup Image" class="img-fluid rounded">
            </div>
        </div>
    </div>
</div>

<style>
/* Add Bootstrap classes to form fields */
/* #id_username, #id_email, #id_age, #id_password1, #id_password2 {
    @extend .form-control;
}

#id_gender {
    @extend .form-select;
} */

#id_username,
#id_email,
#id_age,
#id_password1,
#id_password2 {
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    color: #212529;
    background-color: #fff;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
}

#id_gender {
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
}


/* Alternative CSS if @extend doesn't work */
input[type="text"], input[type="email"], input[type="number"], input[type="password"], select {
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #212529;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

input:focus, select:focus {
    color: #212529;
    background-color: #fff;
    border-color: #86b7fe;
    outline: 0;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}
</style>

{% endblock %}